Exercice 1 : Prise en main
==========================

Objectif
--------

Se familiariser avec la console python et l'√©diteur de code associ√©.

Donn√©es
-------

Les donn√©es proviennent de Natural Earth [#f1]_ :

| ‚Ä¢ ``ne_10m_admin_0_countries.shp`` (Polygones - Pays du monde) ‚ûú `T√©l√©chargement <https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip>`_

Proc√©dure
---------

Charger les donn√©es
^^^^^^^^^^^^^^^^^^^

- Ouvrir QGIS 3.

- Ouvrir la console Python (:kbd:`CTRL` + :kbd:`ALT` + :kbd:`P` ou ``Extension > Console Python``)

- Charger la couche ``ne_10m_admin_0_countries.shp``.

  * soit en faisant un gliss√©-d√©pos√© de ce fichier vers l'interface de QGIS,
  * soit en en utilisant le menu ``Couche > Ajouter une couche > Ajouter une couche vecteur...``

.. figure:: img/0_qgis_interface.png
  :width: 100%
  :align: center
  :figwidth: 98%


Tester les actions suivantes dans la console
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

- Affichage du nombre d'enregistrements dans une couche :
  ::

    layer = iface.activeLayer()
    print(layer.featureCount())

- Afficher le nom de chacun des champs de la couche :
  ::

    for field in layer.fields():
        print(field.name(), field.typeName())


- Obtenir les modes de rendu disponibles dans QGIS :
  ::

    QgsRendererRegistry().renderersList()


- Lister les couches du projet et leur type :
  ::

    for layer in QgsProject.instance().mapLayers().values():
        name = layer.name()
        geom_type = QgsWkbTypes.displayString(layer.wkbType())
        print('{}: {}'.format(name, geom_type))


- Ouvrir l'√©diteur (*Afficher l'√©diteur*) et ins√©rer le code suivant :
  ::

    from qgis.utils import iface
    layer = iface.activeLayer()
    name = layer.name()
    nb = layer.featureCount()
    print("La couche {} compte {} entit√©s".format(name, nb))


- **S√©lectionner une partie de ce bloc de code dans l'√©diteur et appuyer sur** :kbd:`CTRL` + :kbd:`E` **pour √©x√©cuter seulement les instructions s√©lectionn√©es**.

- **Enregistrer le script avec le nom** ``nb_features.py`` **et l'ex√©cuter.**

- On a vu que notre couche avait de nombreux champs.
  **Quelle instruction doit √™tre saisie pour savoir combien de champs poss√®de une couche ?**
-
- **Par ailleurs, quelle instruction doit √™tre saisie pour savoir de combien de couches se compose le projet en cours ?**

.. raw:: html

   <hr width="100%" size="18">
   <p class="align-center"><strong>üí° <a href="solutions/s_ex1.html">Solution de l'exercice 1</a></strong></p>

.. rubric:: Footnotes

.. [#f1] http://www.naturalearthdata.com/. Consult√© le 01/03/2020.


.. _T√©l√©chargement: https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip
